<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>5.轮播图</title>
	<style type="text/css">
		*{
			margin:0px;
			padding:0px;
		}
		ul{
			list-style: none;
		}
		.wrap{
			width: 790px;
			height: 340px;
			border:1px solid #ccc;
			margin:0px auto;
			overflow:hidden;
			position: relative;
		}
		.wrap .leftbtn,.rightbtn{
			width: 30px;
			height: 60px;
			background-color: rgba(0,0,0,0.2);
			position: absolute;
			top:50%;
			margin-top: -30px;
			z-index: 999;
			font-size: 25px;
			color: white;
			font-style: normal;
			line-height: 60px;
			text-align: center;
			display: none;
		}
		.rightbtn{
			right: 0px;
		}
		.leftbtn:hover,.rightbtn:hover{
			background-color: rgba(0,0,0,0.6);
			cursor: pointer;
		}
		ul li{
			opacity: 1;
			transition: 1s all;
			position: absolute;
		}
	</style>
</head>
<body>
	<section class="wrap">
		<ul>
			<li style="z-index: 7;"><img src="images/01.jpg" alt=""></li>
			<li style="z-index: 6;"><img src="images/02.jpg" alt=""></li>
			<li style="z-index: 5;"><img src="images/03.jpg" alt=""></li>
			<li style="z-index: 4;"><img src="images/04.jpg" alt=""></li>
			<li style="z-index: 3;"><img src="images/05.jpg" alt=""></li>
			<li style="z-index: 2;"><img src="images/06.jpg" alt=""></li>
			<li style="z-index: 1;"><img src="images/07.jpg" alt=""></li>
		</ul>
		<i class="leftbtn"><</i>
		<i class="rightbtn">></i>
	</section>
	<!-- 鼠标移入移出事件
			1:鼠标移入 onmouseenter
			2:鼠标移出 onmouseleave
	 -->
	<script type="text/javascript">


		// 获取两个按钮
		 // 左按钮
		 var leftbtn = document.getElementsByClassName('leftbtn')[0];

		 // 右按钮
		 var rightbtn = document.getElementsByClassName('rightbtn')[0];

		 // 获取wrap
		 var wrap = document.getElementsByClassName('wrap')[0];

		 // 获取所有的li
		 var lis = document.getElementsByTagName('li');

		 // 下标
		 var index = 0;

		 // 定时器对象
		 var timer = null;

		 // 自动轮播
		 autoPlay();

		 // 给wrap添加鼠标移入事件
		 wrap.onmouseenter = function(){
		 	// 当鼠标移入的时候显示两个按钮
		 	leftbtn.style.display = 'block';
		 	rightbtn.style.display = 'block';
		 	// 清除定时器
		 	clearInterval(timer);
		 }

		 // 给wrap添加鼠标移出事件
		 wrap.onmouseleave = function(){
		 	// cursor:pointer ; 改变鼠标移上去的箭头变成小手
		 	// 当鼠标移出的时候隐藏两个按钮
		 	leftbtn.style.display = 'none';
		 	rightbtn.style.display = 'none';
		 	// 鼠标移出的时候再重新调用自动轮播
		 	 autoPlay();
		 }

		 // 给右边按钮添加点击事件
		 rightbtn.onclick = function(){
		 	// alert(1);
		 	// 让下标一直加加
		 	index++;
		 	if(index >= 7){
		 		index = 0;
		 	}
		 	for(var i = 0; i < lis.length; i++){
		 		lis[i].style.opacity = '0';
		 	}
		 	lis[index].style.opacity = '1';
		 }
		 leftbtn.onclick = function(){
		 	index--;
		 	if(index < 0){
		 		index = 6;
		 	}
		 	for(var i = 0; i < lis.length; i++){
		 		lis[i].style.opacity = '0';
		 	}
		 	lis[index].style.opacity = '1';
		 }

		 

		 // 自动轮播函数
		 function autoPlay(){
		 	// 定时器,自动轮播
			 timer = setInterval(function(){
			 	index++;
			 	if (index >= 7) {
			 		index = 0;
			 	}
			 	for(var i = 0; i < lis.length; i++){
			 		lis[i].style.opacity = '0';
			 	}
			 	lis[index].style.opacity = '1';
			 },1000)
		 }
	</script>
</body>
</html>