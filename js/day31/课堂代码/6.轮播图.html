<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
        *{
            margin: 0px;
            padding: 0px;
        }
        ul{
            list-style: none;
        }
        .wrap{
            width: 790px;
            height: 340px;
            border: 1px dashed #ccc;
            margin: 0 auto;
            /*overflow: hidden;*/
            position: relative;
        }
        .wrap .leftBtn, .rightBtn{
            width: 30px;
            height: 60px;
            background-color: rgba(0,0,0,0.1);
            position: absolute;
            top: 50%;
            margin-top: -30px;
            z-index: 999;
            font-size: 20px;
            color: white;
            font-style: normal;
            text-align: center;
            line-height: 60px;
            display: none;
        }
        .rightBtn{
            right: 0px;
        }
        .leftBtn:hover, .rightBtn:hover{
            background-color: rgba(0,0,0,0.6);
            cursor: pointer;
        }
        ul li{
            opacity: 1;
            transition: 1s all;
            position: absolute;
        }
        .anniu1{
        	width: 220px;
        	height: 20px;
        	background-color:black;
        	position: absolute;
        	z-index: 999;
        	top:305px;
        	left:283px;
        	border-radius:50px;
        	position: relative;
        }
        .anniu1 i{
			/*width:12px;
			height: 12px;*/
			/*background-color:red;*/
			/*position: absolute;*/
			padding:0px 10px;
			margin-left: 10px;
			border-radius:50%;
        }
    </style>

</head>
<body>
    <section class="wrap">
        <!-- ul>(li>img[src='images/$.jpg'])*7 -->
        <ul>
            <li style="z-index: 7;"><img src="images/01.jpg" alt=""></li>
            <li style="z-index: 6;"><img src="images/02.jpg" alt=""></li>
            <li style="z-index: 5;"><img src="images/03.jpg" alt=""></li>
            <li style="z-index: 4;"><img src="images/04.jpg" alt=""></li>
            <li style="z-index: 3;"><img src="images/05.jpg" alt=""></li>
            <li style="z-index: 2;"><img src="images/06.jpg" alt=""></li>
            <li style="z-index: 1;"><img src="images/07.jpg" alt=""></li>
        </ul>
        <i class="leftBtn"><</i>
        <i class="rightBtn">></i>
        <div class="anniu1">
        	<i></i>
        	<i></i>
        	<i></i>
        	<i></i>
        	<i></i>
        	<i></i>
        	<i></i>
        </div>
    </section>
    <script type="text/javascript">
        // 获取两个按钮
        // 左按钮
        var leftBtn = document.getElementsByClassName('leftBtn')[0];

        // 右按钮
        var rightBtn = document.getElementsByClassName('rightBtn')[0];

        // 获取wrap
        var wrap = document.getElementsByClassName('wrap')[0];

        // 获取所有的li
        var lis = document.getElementsByTagName('li');

        // 获取长条
        var anniu1 = document.getElementsByClassName('anniu1')[0];
        var is = anniu1.getElementsByTagName('i');
	        // 	is[i].onclick = function(){
	        // 		index++;
	        // 	for(var i = 0; i < lis.length; i++){

	        // 	is[i].style.backgroundColor = '';
	        // }
	        // is[index].style.backgroundColor = 'white';
        // }
        

        // 下标
        var index = 0;

        // 定时器对象
        var timer = null;

        // 自动轮播
        autoPlay();

        // 给wrap添加鼠标移入事件
        wrap.onmouseenter = function(){
            // 当鼠标移入的时候显示两个按钮
            leftBtn.style.display = 'block';
            rightBtn.style.display = 'block';
            // 清除定时器
            clearInterval(timer);
        }

        // 给wrap添加鼠标移出事件
        wrap.onmouseleave = function(){
            // cursor: pointer; 改变鼠标箭头图片
            // 当鼠标移出的时候隐藏两个按钮
            leftBtn.style.display = 'none';
            rightBtn.style.display = 'none';
            // 鼠标移出调用自动轮播函数
            autoPlay();
        }

        // 给右边按钮添加点击事件
        rightBtn.onclick = function(){
            // 让下标一直++
            index++;
            if(index >= 7){
                index = 0;
            }
            for(var i = 0; i < lis.length; i++){
                lis[i].style.opacity = '0';
                is[i].style.backgroundColor = '';
            }
            lis[index].style.opacity = '1';
            is[index].style.backgroundColor = 'white';
        }

        // 给左边按钮添加点击事件
        leftBtn.onclick = function(){
            index--;
            if(index < 0){
                index = 6;
            }
            for(var i = 0; i < lis.length; i++){
                lis[i].style.opacity = '0';
                is[i].style.backgroundColor = '';
            }
            lis[index].style.opacity = '1';
            is[index].style.backgroundColor = 'white';
        }



        // 自动轮播函数
        function autoPlay(){
            // 定时器，自动轮播
            timer = setInterval(function(){
                index++;
                if(index >= 7){
                    index = 0;
                }
                for(var i = 0; i < lis.length; i++){
                    lis[i].style.opacity = '0';
                    is[i].style.backgroundColor = '';
                }
                lis[index].style.opacity = '1';
                is[index].style.backgroundColor = 'white';
            },1000);
        }

    </script>

</body>
</html>